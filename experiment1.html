<!DOCTYPE html>
<html lang="zh-CN" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>课程1：RAG检索增强知识问答系统</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" href="media/images/校徽.png">
</head>
<body>
<div class="meteor-shower">
        <!-- 这里只放流星的 i 标签 -->
        <i></i><i></i><i></i><i></i><i></i>
        <i></i><i></i><i></i><i></i><i></i>
        <i></i><i></i><i></i><i></i><i></i>
        <i></i><i></i><i></i><i></i><i></i>
        <i></i><i></i><i></i>
    </div>
    <!-- 导航栏（苹果风格毛玻璃） -->
    <nav class="nav-bar airglass">
        <div class="nav-content container">
            <a href="index.html" class="logo">
                <img src="media/images/校徽.png" alt="多媒体实验平台logo" class="logo-img">
                多媒体技术微课在线平台</a>
            <ul class="nav-links">
                <li><a href="index.html">返回首页</a></li>
                <li><a href="experiment2.html">课程2</a></li>
                <li><a href="experiment3.html">课程3</a></li>
                <li><a href="experiment4.html">课程4</a></li>
                <li><a href="#content" class="link">课程内容</a></li>
                <li><a href="#steps" class="link">实践步骤</a></li>
            </ul>
        </div>
    </nav>

    <!-- 页头（苹果风格大标题+轻量副标题） -->
    <header class="header">
        <h1>课程 1：RAG检索增强知识问答系统</h1>
        <p>掌握LangChain+FAISS+Qwen构建智能问答系统的核心技术</p>
    </header>

    <!-- 主要内容（苹果风格卡片式布局） -->
    <main class="container">
        <div class="content">
            <!-- 实验内容卡片 -->
            <div class="card">
                <div id="content" class="anchor"></div>
                <h2 class="section-title">一、课程内容</h2>

                <h3 class="sub-title">1. 课程目标与内容</h3>
                <ul class="custom-list">
                    <li>了解 RAG 系统的基本原理和工作流程</li>
                    <li>学习 LangChain 框架的使用方法</li>
                    <li>掌握文档加载、文本分割、向量化存储等关键技术</li>
                    <li>学会使用 FAISS 进行高效的向量检索</li>
                    <li>理解如何将检索到的上下文信息与大语言模型结合生成答案</li>
                </ul>

                <h3 class="sub-title">2. RAG原理介绍</h3>
                <p class="text-content">
                    RAG（检索增强生成）系统是一种结合了信息检索和生成式 AI 的先进技术。其核心思想是：当用户提出问题时，系统首先从知识库中检索相关的文档片段，然后将这些上下文信息与大语言模型结合，生成更准确、更有依据的答案。
                </p>
                <p class="text-content">
                    本课程构建的检索增强生成（Retrieval-Augmented Generation, RAG）系统基于 LangChain 框架实现，其核心工作流程可概括为三个阶段。首先，在数据入库阶段，将本地文本数据进行预处理与语义分块，并通过嵌入模型生成向量化表示，将其存储于向量数据库中以构建可检索的知识索引。其次，在相关性检索阶段，用户查询同样被编码为向量，并在向量数据库中执行相似度检索；检索结果经过重排序算法筛选，以获取与查询语义最相关的上下文片段。最后，在问题输出阶段，系统将选取的上下文与原始问题共同构建为增强提示（prompt），并输入大语言模型生成回答，从而实现外部知识驱动的高精度问答。整体流程结构清晰、模块化强，便于理解与扩展，能够有效提升模型的知识覆盖与回答可靠性。
                </p>
                <div class="media-container">
                    <img src="media/images/RAG.png" alt="RAG" width="800" height="800">
                </div>

            </div>

            <!-- 实验步骤卡片 -->
            <div class="card">
                <div id="steps" class="anchor"></div>
                <h2 class="section-title">二、实践步骤</h2>

                <h3 class="sub-title">1. 组装</h3>
                <p class="text-content">当做普通的电脑即可。要连显示屏、鼠标键盘、网线。</p>
                <p class="text-content">桌子上有个小盒子，是英伟达开发板，作为电脑主机。此次课程不使用机械臂。</p>
                <ul class="custom-list">
                    <li>显示屏-HDMI线。可从机械臂上拔下 HDMI 线，一端接开发板，一端接显示屏。</li>
                    <li>显示屏-电源线。一端 USB 口，接开发板的 USB 口；一端 Type-C 口，接显示屏的 Type-C 口（有2个，任意接一个即可）。</li>
                    <li>鼠标键盘。接开发板的 USB 口。</li>
                    <li>网线。接开发板的网口。</li>
                    <li>开发板-电源线。在桌子下面，找直角弯头的那个，一端接桌子腿上的插座，直角弯头接开发板。</li>
                </ul>

                <h3 class="sub-title">2. 安装依赖</h3>
                <p class="text-content">首先，需要安装项目依赖。在项目根目录下运行：</p>
                <div class="code-block">
pip install -r requirements.txt
                </div>

                <h3 class="sub-title">3. 构建向量存储</h3>
                <p class="text-content">使用提供的知识库文件 kb.txt 构建向量存储：</p>
                <div class="code-block">
python main.py --mode build --file kb.txt
                </div>
                <div class="media-container">
                    <img src="media/images/rag1.png" alt="rag1" width="800">
                </div>
                <p class="text-content">
                    从构建过程可以看出，程序首先成功加载了 kb.txt 并识别为 1 个原始文档，随后在 build_vector_store() 中对文档进行了分割、向量化与索引构建。完成向量化后，FAISS 索引被持久化保存至./vectorstore。整个过程包括文档加载正常、索引构建流程顺利完成、向量存储已被更新并可用于后续查询。
                </p>

                <h3 class="sub-title">4. 交互式查询</h3>
                <p class="text-content">构建向量存储后，启动交互式查询：</p>
                <div class="code-block">
python main.py --mode interactive
                </div>
                <h3 class="sub-title">5. 单次查询</h3>
                <p class="text-content">也可以使用单次查询模式：</p>
                <div class="code-block">
python main.py --mode query --question "希冀平台是什么？"
                </div>
                <div class="media-container">
                    <img src="media/images/rag2.png" alt="rag2" width="800">
                </div>
                <p class="text-content">
                    结果应能看到对于希冀平台的介绍精确且完整，充分体现了RAG在有对应文本内容时，回答问题的准确性、全面性显著提升。
                </p>
                <p class="text-content">
                    接下来可以自己尝试提出相关性强/弱的问题，看看RAG系统的回答，并思考为什么回答结果的准确性会偏差很大。
                </p>
                <div class="media-container">
                    <img src="media/images/rag3.png" alt="rag3" width="800">
                </div>
                <p class="text-content">
                    第二个问题中提出了模糊的cg名称，源文本中并没有cg相关的字词，可见没有和模型中文本向量相似度高的内容。所以，RAG在源文本这没有给出的明确内容是无法进行回答的。
                </p>
                <h3 class="sub-title">6. 使用自定义文档</h3>
                <p class="text-content"></p>
                <p class="text-content">使用自己的文档构建知识库，将txt/pdf/文件加载进模型，使用增量添加，生成向量存储并保存。</p>
                <div class="media-container">
                    <img src="media/images/rag4.png" alt="rag4" width="800">
                </div>
                <p class="text-content">根据pdf中的内容整合出来了适合问题的信息，内容完善且准确。</p>


            </div>

            <!-- 思考题卡片 -->
            <div class="card">
                <h2 class="section-title">三、思考题</h2>

                <h3 class="sub-title">思考题1：RAG 系统相比直接使用大语言模型有什么优势和局限性？</h3>

                <h3 class="sub-title">思考题2：文档分割策略对检索效果有什么影响？</h3>

                <h3 class="sub-title">思考题3：RAG 技术在哪些领域有潜在应用？</h3>

                <div style="text-align: center; margin-top: 40px;">
                    <a href="index.html" class="btn">返回首页</a>
                    <a href="experiment2.html" class="btn btn-outline" style="margin-left: 15px;">进入课程2</a>
                </div>
            </div>

        </div>
    </main>

        <!-- 页脚：3D极光玻璃风格 -->
    <footer class="footer-3d">
        <!-- 1. 背景层：3D网格与INS风光晕（营造空间感） -->
        <div class="footer-decor">
            <div class="blob blob-1"></div>
            <div class="blob blob-2"></div>
            <div class="grid-lines"></div>
        </div>

        <!-- 2. 内容层：悬浮毛玻璃舱 -->
        <div class="container footer-glass airglass">
            <div class="footer-inner">
                <!-- 导航链接 -->
                <div class="footer-links">
                    <a href="index.html">首页</a>
                    <a href="experiment1.html">课程1</a>
                    <a href="experiment2.html">课程2</a>
                    <a href="experiment3.html">课程3</a>
                    <a href="experiment4.html">课程4</a>
                    <a href="https://www.runoob.com/python3/python3-tutorial.html" target="_blank">Python教程</a>
                    <a href="https://python.langchain.com/docs/get_started/introduction" target="_blank">LangChain文档</a>
                </div>

                <!-- 版权信息 -->
                <div class="footer-bottom">
                    <p class="copyright">
                        © 2025 多媒体技术微课在线平台 · 版权所有
                    </p>
                </div>
            </div>
        </div>
    </footer>
</body>
</html>
